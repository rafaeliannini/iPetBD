<!DOCTYPE html> 
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>iPet</title>
  <link rel="icon" href="../imagens/logoPet.png" type="image/x-icon">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="../style.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>
	<header class="container-fluid">
	  <div class="d-flex flex-column flex-md-row align-items-center">
	    <a href="../index.html"><img src="../../imagens/logoPet.png" width="130px" height="100px" alt="Logo" class="me-3"></a>
	    <nav class="d-flex flex-column flex-md-row justify-content-between w-100">
	      <ul class="nav flex-column flex-md-row">
	        <li class="nav-item">
	          <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroProduto/produto.html">Produtos</a>
	        </li>
	        <li class="nav-item">
	          <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroLocal/local.html">Lazer</a>
	        </li>
	        <li class="nav-item">
	          <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroServicos/servicos.html">Serviços</a>
	        </li>
	        <li class="nav-item">
	          <a id="corT" class="nav-link fw-bold fs-5 fs-md-2" href="../cadastroEventos/evento.html">Eventos</a>
	        </li>
	      </ul>
	      <ul class="nav flex-column flex-md-row">
	        <li class="nav-item">
	          <a id="logarLink" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/loginForm.html" style="background-color: #d6660a;">Logar</a>
	        </li>
	        <li class="nav-item mt-2 mt-md-0 ms-md-2">
	          <a id="inscreverLink" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/cadastroForm.html" style="background-color: #d6660a;">Se inscrever</a>
	        </li>
	        <li class="nav-item mt-2 mt-md-0 ms-md-2">
	          <a id="contaIcon" class="nav-link text-light rounded-4 px-3 fs-5 fs-md-4 fw-bold" href="../login/signup/perfil.html" style="background-color: #d6660a;">Conta</a>
	        </li>
	      </ul>
	    </nav>
	  </div>
	  <hr style="border-top: 2px solid black; width: 100%; margin-top: 0px;">
	</header>

  <section id="Local" class="container-fluid">
    <p id="corT2" class="ms-5 mt-3 text-start fs-1 fw-bold">Locais de Lazer Pet-Friendly</p>
    <div class="container mt-5" style="margin-top: 19px !important;">
        <div class="service-cont row row-cols-1 row-cols-md-4 g-4" style="gap: 10px; justify-content: left;">
          <!-- Aqui serão adicionados os locais de lazer -->
        </div>
    </div>
  </section>

  <footer id="corB3" class="mt-5 p-5">
    <div class="container">
      <div class="row">
        <div class="col-md">
          <h6 class="mb-2">iPet</h6>
          <p class="text-light">iPet é uma plataforma que visa facilitar donos de pet a encontrarem lugar ideal para seu amigo de 4 patas.</p>
        </div>
        <div class="col-md">
          <h6 class="mb-2">Serviços</h6>
          <p class="text-light">Restaurantes<br>Lojas<br>Shoppings</p>
        </div>
        <div class="col-md">
          <h6 class="mb-2">Empresa</h6>
          <p class="text-light">Quem Somos<br>Nossa Equipe<br>Contato</p>
        </div>
        <div class="col-md" style="flex: 3;">
          <h6 class="mb-6">Receba Notícias</h6>
          <form id="meuFormulario" action="#" method="post" class="d-flex">
            <input style="height: 40px;" type="email" id="email" class="form-control me-1" placeholder="Seu e-mail" aria-label="Seu e-mail" aria-describedby="button-addon2" required>
            <button style="margin: 0 !important; font-size: 11px !important; width: 30%;" id="corB" class="btn ms-1 mt-3 me-0 text-light rounded-2 fs-6 fw-bold" type="submit">Se Inscrever</button>
          </form>
          <div style="display: flex; justify-content: end;">
            <a style="text-decoration: none;" href="https://www.instagram.com/ipetoficialbh/" target="_blank">
              <img style="height: 50px; margin-top: 10px;" src="../../imagens/instagram.png" alt="Instagram">
            </a>
            <a style="text-decoration: none;" href="https://www.x.com/ipetoficial/" target="_blank">
              <img style="height: 50px; margin-top: 10px;" src="../../imagens/twitter.png" alt="Twitter">
            </a>
          </div>
        </div>
      </div>
    </div>
    <hr style="border-top: 2px solid white; width: 100%; margin-top: 0px;">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center" style="color: white">
      <p class="mb-0 me-md-5">Copyright iPet</p>
      <div class="d-flex align-items-center">
        <img src="../../imagens/logoPet.png" width="100px" height="80px" alt="Logo">
      </div>
    </div>
  </footer>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          const usuarioId = localStorage.getItem('usuarioId');
          if (usuarioId) {
              document.getElementById('logarLink').style.display = 'none';
              document.getElementById('inscreverLink').style.display = 'none';
              document.getElementById('contaIcon').style.display = 'block';
          } else {
              document.getElementById('contaIcon').style.display = 'none';
          }
      });
  </script>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
        fetch("http://localhost:6789/locais", { method: "GET" })
          .then(response => {
            if (!response.ok) {
              throw new Error('Erro ao carregar os locais de lazer');
            }
            return response.json();
          })
          .then(locaisResponse => {
            const localContainer = document.querySelector('.service-cont');
            localContainer.innerHTML = "";
			const locaisLazer = locaisResponse.filter(local => local.tipo === "lazer");

            if (locaisResponse.length === 0) {
              localContainer.innerHTML = "<p>Nenhum local de lazer encontrado.</p>";
            } else {
              locaisLazer.forEach(local => {
                const localHTML = `
				<div class="col locationStyle" style="width: 33%;">
				    <div class="card-body text-center" style="height: 100%; display: flex; flex-direction: column; justify-content: space-between;">
				        <img src="${local.imagem_url}" class="img-fluid" style="max-height: 150px; object-fit: cover;">
				        <h5 style="font-weight: 800; color: #E85D0C; margin-top: 10px; margin-bottom: 5px;" class="mt-3">${local.nome}</h5>
				        <p style="font-size: 11px; font-weight: 800; color: #E85D0C;" class="mt-1">${local.rua}, ${local.numero}, ${local.bairro}, ${local.cep}</p>
				        <a href="javascript:void(0);" onclick="selecionarLocal(${local.id_local});" class="btn mt-3 text-light fw-bold rounded-4" style="background-color: #48067f; width: auto; padding: 8px 20px; align-self: center;">
				            Veja Mais 
				            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
				                <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
				            </svg>
				        </a>
				    </div>
				</div>

                `;
                localContainer.innerHTML += localHTML;
              });
            }
          })
          .catch(error => {
            console.error('Erro:', error);
          });
      });

	  function selecionarLocal(localId) { 
		console.log('Selecionando local com ID:', localId);
	      localStorage.setItem('localId', localId);
	      window.location.href = `detalhesLocal.html?localId=${localId}`;
	  }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
